<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Account Settings - ZYLO</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" />
  <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&family=Roboto:wght@400;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="./stylesheets/homepage.css">
  <link rel="stylesheet" href="./stylesheets/account.css">
  <link rel="stylesheet" href="./stylesheets/popup.css">
</head>
<body>
  <header class="top-bar">
    <div class="logo">ZYLO</div>
    <div class="user-actions">
      <div id="user-icon">
        <img src="./img/png/user.png" width="16" height="16" alt="User avatar" id="profile-avatar" class="user-avatar" />
        <div class="user-dropdown">
          <div class="user-info">
            <div id="profile-name" class="name">John Smith</div>
            <div id="profile-username" class="username">@john_smith</div>
          </div>
          <a href="./profile.html">Profile</a>
          <a href="./account.html">Account Settings</a>
          <button class="logout" onclick=logout() >Logout</button>
        </div>
      </div>
      <div id="login-icon">
        <div class="login-register">
          <a href="./login.html">Login</a>
        </div>
      </div>
    </div>
  </header>

  <div class="app-container">
    <aside class="sidebar">
      <nav class="sidebar-nav">
        <button class="active" onclick="window.location.href='./index.html'">
          <span class="material-symbols-outlined">
            home
          </span>
          Home
        </button>
        <button onclick="window.location.href='./explore.html'">
          <span class="material-symbols-outlined">
            search
          </span>
          Explore
        </button>
        <button>
          <span class="material-symbols-outlined">
            favorite
            </span>
          Notifications
        </button>
        <button>
          <span class="material-symbols-outlined">
            chat
            </span>
          Messages
        </button>
      </nav>
    </aside>

    <!-- Main Content -->
    <main class="main-content">
      <h1 class="main-header">Account Settings</h1>

      <!-- Profile Info Section -->
      <section class="settings-section">
        <h2>Profile Information</h2>
        <form id="profileForm">
          <div class="form-group">
            <label for="name">Display Name</label>
            <input type="text" id="name" placeholder="Your full name" />
          </div>
          <div class="form-group">
            <label for="username">Username</label>
            <input type="text" id="username" placeholder="@username" />
          </div>
          <div class="form-group">
            <label for="bio">Bio</label>
            <textarea id="bio" placeholder="Tell the world who you are"></textarea>
            <div class="bio-counter" id="bioCounter">0 / 160</div>
          </div>
          <button type="button" id="profile-submit-btn" class="submit-btn">Save Changes</button>
        </form>
      </section>

      <section class="settings-section">
        <h2>Update Avatar</h2>
        <form id="avatarForm" enctype="multipart/form-data">
          <div class="form-group">
            <input type="file" id="avatarInput" name="avatar" accept="image/*" />
          </div>
          <button type="button" id="upload-avatar-btn" class="submit-btn">Upload Avatar</button>
        </form>
      </section>

      <!-- Password Section -->
      <section class="settings-section">
        <h2>Change Password</h2>
        <form id="passwordForm">
          <div class="form-group">
            <label for="currentPassword">Current Password</label>
            <input type="password" id="currentPassword" placeholder="Enter current password" />
          </div>
          <div class="form-group">
            <label for="newPassword">New Password</label>
            <input type="password" id="newPassword" placeholder="Enter new password" />
          </div>
          <button type="submit" class="submit-btn">Update Password</button>
        </form>
      </section>
    </main>
  </div>

  <!-- Mobile Bottom Nav -->
  <nav class="mobile-nav" aria-label="Mobile navigation">
    <button>
      <svg viewBox="0 0 24 24" aria-hidden="true">
        <path d="M12 1.5c-6.3 0-10.5 4.2-10.5 10.5S5.7 22.5 12 22.5 22.5 18.3 22.5 12 18.3 1.5 12 1.5zM12 16.5c-2.5 0-4.5-2-4.5-4.5S9.5 7.5 12 7.5s4.5 2 4.5 4.5-2 4.5-4.5 4.5z"/>
      </svg>
    </button>
    <button>
      <svg viewBox="0 0 24 24" aria-hidden="true">
        <path d="M10.5 3.5h3v3h-3zM3.5 10.5h3v3h-3zM10.5 17.5h3v3h-3zM17.5 10.5h3v3h-3z"/>
      </svg>
    </button>
    <button>
      <svg viewBox="0 0 24 24" aria-hidden="true">
        <path d="M12 1.5c-5 0-9 4-9 9s4 9 9 9 9-4 9-9-4-9-9-9zm0 13.5c-1.7 0-3-1.3-3-3s1.3-3 3-3 3 1.3 3 3-1.3 3-3 3z"/>
      </svg>
    </button>
    <button>
      <svg viewBox="0 0 24 24" aria-hidden="true">
        <path d="M4 4h16v2H4zm2 4h12v2H6zm-2 4h16v2H4zm2 4h12v2H6z"/>
      </svg>
    </button>
  </nav>
  
  <p id="error-message">An error occurred.</p>

  <script src="./javascripts/utils.js"></script>
  <script src="./javascripts/renderUser.js"></script>
  <script src="./javascripts/account.js"></script>
</body>
</html>